; Maps a function `f` to all elements of a list `l`.
(fn {map f l} {
  ; TODO: replace `{}` by the nil atom.
  if (!= l {})
    {
      join
        (list (f (eval (head l))))
        (map f (tail l))
    }
    {{}}
})